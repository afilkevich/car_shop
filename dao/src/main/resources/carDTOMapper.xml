<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shop.dao.CarDTOMapper">

    <resultMap id="carDTOResultMap" type="CarDTO">
        <id property="id" column="id"/>
        <result property="brandName" column="name_brand"/>
        <result property="modelName" column="name_model"/>
        <result property="configName" column="type_configuration"/>
        <result property="configDescription" column="description_configuration"/>
        <result property="dateBuilder" column="date_builder"/>
        <result property="price" column="price"/>

    </resultMap>

    <select id="findAll" resultMap="carDTOResultMap">
      select
        car.id as "id",
        brand.name_brand as "brandName",
        model.name_model as "modelName",
        config.type_configuration as "configName",
        config.description_configuration as "configDescription",
        car.date_builder as"dateBuilder",
        car.price as"price"
        from car_shop.car car
        inner join car_shop.brand brand on car.id_brand=brand.id
        inner join car_shop.model model on car.id_model=model.id
        inner join car_shop.configuration config on car.id_configuration=config.id

    </select>

    </mapper>